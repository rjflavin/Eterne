if(!customElements.get("country-province-selector")){class e extends HTMLElement{constructor(){super(),this.countryEl=this.querySelector(".js-country-select"),this.provinceEl=this.querySelector(".js-province-select"),this.provinceContainer=this.querySelector(".js-province-container"),this.init()}init(){e.setSelectedOption(this.countryEl,this.countryEl.dataset.default),this.handleCountryChange(),this.provinceEl.dataset.default&&this.provinceEl.options.length>0&&e.setSelectedOption(this.provinceEl,this.provinceEl.dataset.default),this.countryEl.addEventListener("change",this.handleCountryChange.bind(this))}handleCountryChange(){let e=this.countryEl.options[this.countryEl.selectedIndex],t=JSON.parse(e.dataset.provinces);Array.from(this.provinceEl.options).forEach(e=>e.remove()),t&&0===t.length?this.provinceContainer.hidden=!0:(t.forEach(e=>{let t=document.createElement("option");[t.value,t.innerHTML]=e,this.provinceEl.appendChild(t)}),this.provinceContainer.hidden=!1)}static setSelectedOption(e,t){Array.from(e.options).forEach((n,i)=>{(n.value===t||n.innerHTML===t)&&(e.selectedIndex=i)})}}customElements.define("country-province-selector",e)}
