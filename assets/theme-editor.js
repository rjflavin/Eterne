localStorage.getItem("cc-settings-loaded")||fetch("https://check.cleancanvas.co.uk/",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",body:new URLSearchParams({shop:Shopify.shop,theme:theme.info?theme.info.name:""})}).then(e=>{e.ok&&localStorage.setItem("cc-settings-loaded","true")}),document.addEventListener("shopify:section:load",e=>{window.initLazyImages(),e.target.querySelectorAll("script[src]").forEach(e=>{let t=document.createElement("script");t.src=e.src,document.body.appendChild(t)}),e.target.matches(".cc-pop-up")&&customElements.whenDefined("pop-up").then(()=>{e.target.querySelector("pop-up").open()}),e.target.matches(".section-collapsible-tabs")&&document.dispatchEvent(new CustomEvent("theme:faq-header-update",{bubbles:!0,cancelable:!1}))}),document.addEventListener("shopify:section:unload",e=>{e.target.matches(".section-collapsible-tabs")&&document.dispatchEvent(new CustomEvent("theme:faq-header-update",{bubbles:!0,cancelable:!1}))}),document.addEventListener("shopify:section:reorder",e=>{e.target.matches(".section-faq-header")&&e.target.querySelector("faq-header").debouncedBuildIndex(),e.target.matches(".section-collapsible-tabs")&&document.dispatchEvent(new CustomEvent("theme:faq-header-update",{bubbles:!0,cancelable:!1}))}),document.addEventListener("shopify:block:select",e=>{if(e.target.matches(".navigation__column--promotion")&&e.target.closest(".navigation__item").dispatchEvent(new Event("mouseenter")),e.target.matches(".navigation__wide-promotion")&&e.target.closest(".navigation__item").dispatchEvent(new Event("mouseenter")),e.target.matches(".slideshow__slide")){let t=e.target.closest("slide-show");setTimeout(()=>{t.setActiveSlide(Number(e.target.dataset.index)),t.pauseAutoplay()},200)}if(e.target.matches(".slider__item")){let a=e.target.closest("carousel-slider");if(!a.slider)return;a.slider.scrollTo({left:a.slides[Array.from(a.slides).indexOf(e.target)].offsetLeft,behavior:"smooth"})}e.target.matches(".hotspot")&&e.target.querySelector("button").click()}),document.addEventListener("shopify:block:deselect",e=>{if(e.target.matches(".navigation__column--promotion")&&e.target.closest(".navigation__item").dispatchEvent(new Event("mouseleave")),e.target.matches(".navigation__wide-promotion")&&e.target.closest(".navigation__item").dispatchEvent(new Event("mouseleave")),e.target.matches(".slideshow__slide")){let t=e.target.closest("slide-show");setTimeout(()=>{t.resumeAutoplay()},200)}e.target.matches(".hotspot.is-active")&&e.target.querySelector("button").click()}),document.addEventListener("shopify:section:select",e=>{e.target.matches(".section-cart-drawer")&&document.dispatchEvent(new CustomEvent("dispatch:cart-drawer:open",{bubbles:!0,cancelable:!1}))}),document.addEventListener("shopify:section:deselect",e=>{e.target.matches(".section-cart-drawer")&&document.dispatchEvent(new CustomEvent("dispatch:cart-drawer:close",{bubbles:!0,cancelable:!1}))}),document.addEventListener("shopify:block:select",e=>{if(e.target.matches(".announcement")){let t=Array.prototype.indexOf.call(e.target.parentElement.children,e.target);e.target.closest("announcement-bar").pauseAnnouncements(),e.target.closest("announcement-bar").setCurrentAnnouncement(t)}}),document.addEventListener("shopify:block:deselect",e=>{e.target.matches(".announcement")&&e.target.closest("announcement-bar").playAnnouncements()});const customEvents=["on:variant:change","on:cart:add","on:cart:error","on:cart:after-merge","on:cart-drawer:before-open","on:cart-drawer:after-open","on:cart-drawer:after-close","on:quickbuy:before-open","on:quickbuy:after-open","on:quickbuy:after-close","dispatch:cart-drawer:open","dispatch:cart-drawer:refresh","dispatch:cart-drawer:close","on:debounced-resize","on:breakpoint-change","dispatch:cart-flyover:refresh"];customEvents.forEach(e=>{document.addEventListener(e,t=>{e.includes("dispatch:cart-drawer")&&"drawer"!==theme.settings.cartType?console.warn("The Cart Drawer is not enabled. To enable it, change Theme Settings > Cart > Cart type."):console.info("%cTheme event triggered","background: #2B2B2B; color: #bada55",e,t.detail)})});
